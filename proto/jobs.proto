syntax = "proto3";

package SimpleBackendServiceCpp;

service JobQueueService {
  rpc SubmitJob (SubmitJobRequest) returns (SubmitJobResponse);
  rpc GetJobStatus (GetJobStatusRequest) returns (GetJobStatusResponse);
}

enum JobStatus {
  JOB_STATUS_UNSPECIFIED = 0;
  JOB_STATUS_QUEUED = 1;
  JOB_STATUS_RUNNING = 2;
  JOB_STATUS_COMPLETED = 3;
  JOB_STATUS_FAILED = 4;
}

message SubmitJobRequest {
  string type = 1;
  string payload_json = 2;
}

message SubmitJobResponse {
  string job_id = 1;
}

message GetJobStatusRequest {
  string job_id = 1;
}

message GetJobStatusResponse {
  JobStatus status = 1;
  string result_json = 2;
  string error_message = 3;
}
